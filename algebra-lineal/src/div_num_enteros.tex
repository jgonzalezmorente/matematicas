\chapter{Divisibilidad en los números enteros}
\section{División entera. Ideales}

Designaremos por $\ZZ$ el conjunto de los números enteros. La teoría de la divisibilidad en $\ZZ$ es consecuencia de la siguiente importante propiedad.

\begin{teo}[\textbf{de la división entera}]\label{teo:1}
    Dados $a,b\in\ZZ$, $b\neq 0$, existen dos únicos números enteros $q$ y $r$ que cumplen $a=bq+r$, $0\leq r<|b|$. Estos números $q$ y $r$ se llaman el cociente y el resto de la división entera de $a$ por $b$.    
\end{teo}

\begin{ej}
    $$-8 = 3\cdot (-3) + 1, \quad 3 = (-8)\cdot 0 + 3$$
\end{ej}

Si el resto de la división entera de $a$ por $b$ es $0$, se dice que $a$ es un {\it múltiplo} de $b$ (escribiremos $a=\overset{\scalebox{1.2}{$\cdot$}}{b}$), que $b$ es un {\it divisor} de $a$ (escribiremos $b\mid a$), o que $a$ es {\it divisible} por $b$. Indicaremos por $(b)$ el conjunto de los múltiplos de $b$. Observemos que $(b)$ cumple las dos propiedades siguientes:

\begin{itemize}
    \item es cerrado para la suma; es decir, $a,c\in(b)\Rightarrow a+c\in (b)$.
    \item si $a\in (b)$ y $c$ es cualquier entero, entonces $ac\in(b)$.
\end{itemize}

\begin{prop}\label{prop:1}
    Si el subconjunto $I\subset\ZZ$ cumple
    \begin{enumerate}[label=(\arabic*)]
        \item\label{en1:it1} $a, b\in I\Rightarrow a + b\in I$
        \item\label{en1:it2} $a\in I, c\in\ZZ\Rightarrow ac\in I$
    \end{enumerate}
    entonces existe un $b\in\ZZ$ tal que $I=(b)$.
\end{prop}

\begin{proof}
    Si $I=\{0\}$, entonces $I=(0)$. Si $I$ contiene un elemento no nulo $a$, también contiene $-a=a\cdot(-1)$, y o bien $a$ o bien $-a$ es positivo. Por tanto, $I$ contiene enteros positivos. Sea $b$ el menor de los enteros positivos contenidos en $I$. Por \ref{en1:it2}, $I$ contiene todos los múltiplos de $b$: $(b)\subset I$. Vamos a ver que $I\subset (b)$, y por tanto, $I=(b)$. En efecto, dado $a\in I$ cualquiera, por el teorema \ref{teo:1},
    $$a=bq+r, \quad 0\leq r<|b|=b$$
    Por \ref{en1:it1} y \ref{en1:it2}, $r=a-bq=a+b(-q)\in I$; pero $0\leq r<|b|=b$ y $b$ es el menor de los enteros positivos de $I$; así pues, $r=0$, y por tanto $a=bq\in (b)$.
\end{proof}

Un subconjunto $I$ que cumple las condiciones \ref{en1:it1} y \ref{en1:it2} de la proposición \ref{prop:1} se llama un {\it ideal} de $\ZZ$. El elemento $b$ tal que $I=(b)$ se denomina {\it base} del ideal.

\begin{ejer}
    Demostrar que,
    $$(b)=(c)\text{ si y sólo si }c=\pm b$$
\end{ejer}

Obsérvese que $(a)\subset (b)$ si y sólo si $b\mid a$. Las cuestiones de divisibilidad equivalen, por tanto, a cuestiones sobre inclusiones entre ideales.

\section{Mínimo común múltiplo y máximo común divisor}

Dados números enteros $a_1,\dots,a_n$, la intersección $(a_1)\cap\cdots\cap(a_n)$ es el conjunto de los números enteros múltiplos comunes de todos ellos de todos ellos. Este conjunto cumple las dos condiciones de la proposición \ref{prop:1}, y por tanto, $(a_1)\cap\cdots\cap(a_n)=(m)$ para un $m$ conveniente. Este $m$ está carecterizado por las dos propiedades siguientes:

\begin{itemize}
    \item $m$ es múltiplo común de $a_1,\dots,a_n$
    \item cualquier otro múltiplo común de $a_1,\dots,a_n$ es múltiplo de $m$.
\end{itemize}

Diremos que $m$ es el {\it mínimo común múltiplo} de $a_1,\dots,a_n$ y escribiremos
$$m=\mcm{a_1,\dots,a_n}$$

Observemos que también $-m$ es mínimo común múltiplo de $a_1,\dots,a_n$.

Consideremos ahora la unión $(a_1)\cup\cdots(a_n)$. Este conjunto, en general, no cumple las condiciones de la proposición \ref{prop:1}. Por ejemplo, $(2)\cup (3)$ no contiene el $5=2+3$. Formemos a partir de $(a_1)\cup\cdots\cup (a_n)$ un subconjunto $I$ de $\ZZ$ que cumpla las condiciones de la proposición \ref{prop:1}, Por la condición \ref{en1:it1}, $I$ debe contener todas las sumas de múltiplos de $a_1,\dots,a_n$: $a_1c_1+\cdots+a_nc_n$. No hace falta ampliar más, el conjunto
$$I=\set{a_1c_1 + \cdots + a_nc_n \ | \ c_1,\dots,c_n\in\ZZ }$$
cumple ya las condiciones de la proposición \ref{prop:1}, y por tanto, existe un entero $d$ tal que $I=(d)$. Denotaremos $I$ por $(a_1,\dots,a_n)$. Así pues, $I=(a_1,\dots,a_n)=(d)$. Este número $d$ está caracterizado por las dos propiedades siguientes:
\begin{itemize}
    \item $d$ es divisor común de $a_1,\dots,a_n$, ya que ello equivale a a firmar que $a_i\in (d)$ para $i=1,\dots,n$. ($a_i=a_1\cdot 0 + \cdots + a_i\cdot 1 + \cdots a_n\cdot 0 \in I$).
    \item Cualquier otro divisor $d'$ común a $a_1,\dots,a_n$ divide a $d$. En efecto, que $d'$ sea divisor de $a_1,\dots,a_n$ significa que $a_i\in (d')$, $i=1,\dots,n$. Por tanto, $\set{a_1c_1+\cdots a_nc_n \ | \ c_i\in\ZZ}\subset (d')$, es decir, $(d)\subset (d')$, lo cual implica que $d'$ es un divisor de $d$.
\end{itemize}
El recíproco también es cierto.

Diremos que $d$ es el {\it máximo común divisor} de $a_1,\dots,a_n$ y escribiremos
$$d=\mcd{a_1,\dots,a_n}$$

También $-d$ es máximo común divisor.

Observemos que el máximo común divisor $d$ es una suma de múltiplos de $a_1,\dots,a_n$
$$d=a_1r_1+\cdots+a_nr_n$$
Esta expresión es conocida como {\it identidad de Bézout}.

Acabaremos este apartado con un método práctico de cálculo del máximo común divisor y de la identidad de Bézout. El método se basa en el siguiente resultado:

\begin{prop}
    Sea $a=bq+r$ la división entera de $a$ por $b$. Entonces,
    $$\mcd{a,b}=\mcd{b,r}$$
\end{prop}

\begin{proof}
    El resultado es consecuencia de que $(a,b)=(b,r)$. En efecto, todo elemento $ac_1+bc_2\in (a,b)$, satisface $ac_1+bc_2=b(qc_1+c_2)+rc_1\in (b,r)$ y, recíprocamente, todo elemento $bn_1+rn_2\in(b,r)$ satisface $bn_1+rn_2=an_2+b(n_1-qn_2)\in (a,b)$.
\end{proof}

Si aplicamos reiteradamente esta proposición, obtenemos
$$\begin{array}{lll}
    a = bq + r,       & (a,b)=(b,r),       & r<|b|   \\
    b = rq_1 + r_1,   & (b,r)=(r,r_1),     & r_1<r   \\
    r = r_1q_2 + r_2, & (r,r_1)=(r_1,r_2), & r_2<r_1
\end{array}$$

Los sucesivos restos van disminuyendo y obtendremos, por tanto, en un momento dado resto cero:
$$\begin{array}{lll}
    r_{k-2} = r_{k-1}q_k + r_k, & (r_{k-2},r_{k-1})=(r_{k-1},r_k),  & r_k<r_{k-1}   \\
    r_{k-1} = r_kq_{k+1} + 0,   & (r_{k-1},r_k)=(r_k,0)=(r_k)       & 
\end{array}$$
Así pues, $(a,b)=(r_k)$, es decir, $r_k=\mcd{a,b}$.

Este método para hallar el máximo común divisor se llama {\it algoritmo de Euclides}.

Para calcular el máximo común divisor de más de dos enteros, aplicamos:

\begin{ejer}
    $$\mcd{a_1,a_2,a_3}=\mcd{\mcd{a_1,a_2},a_3}$$
    y, en general,
    $$\mcd{a_1,\dots,a_n}=\mcd{\mcd{a_1,\dots,a_{n-1}},a_n}$$
\end{ejer}

Las divisiones enteras efectuadas en el algoritmo de Euclides nos permiten expresar $d=r_k=\mcd{a,b}$ como suma de un múltiplo de $a$ y un múltiplo de $b$. En efecto, en
$$d=r_k=r_{k-2}-r_{k-1}q_k$$
$d$ se expresa como una suma de un múltiplo de $r_{k-2}$ y un múltiplo de $r_{k-1}$. Ahora bien, 
$$r_{k-1}=r_{k-3}-r_{k-2}q_{k-1}$$
y sustituyendo en la igualdad anterior obtenemos una expresión de $d$ como una suma de un múltiplo de $r_{k-3}$ y un múltiplo de $r_{k-2}$. Volviendo a sustituir convenientemente, podemos expresar $d$ como suma de múltiplos de $r_{k-4}$ y $r_{k-3}$; y así sucesivamente hasta obtener la identidad de Bézout

$$d=ar+bs$$

\begin{reader}
    Veamos como definir una función recursiva para calcular los coeficientes de Bézout. Supongamos que $d=\alpha_i r_{k-i-1} + \beta_i r_{k-i}$, como $r_{k-i-2}=r_{k-i-1}q_{k-i}+r_{k-i}$, se obtiene que
    $$d=\alpha_i r_{k-i-1}+\beta_i(r_{k-i-2}-r_{k-i-1}q_{k-i})=\beta_i r_{k-i-2}+(\alpha_i -\beta_i q_{k-i})r_{k-i-1} $$
    para $i=0,\dots,k$ (definiendo $r_0=r$, $r_{-1}=b$, $r_{-2}=a$ y $q_0=q$). Por tanto,
    $$(\alpha_{i+1},\beta_{i+1})=\begin{cases}
        (1, -q_k) & i=0 \\
        (\beta_i, \alpha_i-\beta_iq_{k-i}) & i = 1,\dots,k
    \end{cases}$$
\end{reader}

En el próximo apartado (proposición \ref{prop:2}) demostraremos que si $m=\mcm{a,b}$ y $d=\mcd{a,b}$ entonces $md=\pm ab$. Esto permite calcular $m$ si conodemos $d$. Para el cálculo de mínimo común múltiplo de más de números utilizaremos:

\begin{ejer}   
    $$\mcm{a_1,a_2,a_3}=\mcm{\mcm{a_1,a_2},a_3}$$
    y, en general,
    $$\mcm{a_1,\dots,a_n}=\mcm{\mcm{a_1,\dots,a_{n-1}},a_n}$$        
\end{ejer}

\begin{prop}\label{prop:2}
    
\end{prop}